"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[838],{2501:(e,i,t)=>{t.r(i),t.d(i,{default:()=>F});var n=t(3673);const d=(0,n.HX)("data-v-f76c93b4");(0,n.dD)("data-v-f76c93b4");const r={id:"metroline"},l={id:"form"},a=(0,n.Wm)("div",{id:"form-title"},[(0,n.Wm)("h1",{class:"page-title"}," Identifiers ")],-1),o={id:"form-content"},s=(0,n.Uk)(" Add identifier "),u={id:"form-button-bar"};(0,n.Cn)();const p=d(((e,i,t,p,c,v)=>{const f=(0,n.up)("Stepper"),m=(0,n.up)("IdentifierCardViewing"),g=(0,n.up)("IdentifierCardEditing"),y=(0,n.up)("q-btn"),b=(0,n.up)("StepperActions");return(0,n.wg)(),(0,n.j4)(n.HY,null,[(0,n.Wm)("div",r,[(0,n.Wm)(f)]),(0,n.Wm)("div",l,[a,(0,n.Wm)("div",o,[((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(e.identifiers,((t,d)=>((0,n.wg)(),(0,n.j4)("div",{key:d,class:"q-mb-md"},[e.editingId!==d?((0,n.wg)(),(0,n.j4)(m,{key:0,index:d,identifier:t,onEditPressed:()=>e.editingId=d},null,8,["index","identifier","onEditPressed"])):((0,n.wg)(),(0,n.j4)(g,(0,n.dG)({key:1,index:d},t,{onUpdateType:e.setIdentifierTypeField,onUpdateValue:e.setIdentifierValueField,onUpdateDescription:e.setIdentifierDescriptionField,onClosePressed:i[1]||(i[1]=()=>e.editingId=-1),onRemovePressed:e.removeIdentifier}),null,16,["index","onUpdateType","onUpdateValue","onUpdateDescription","onRemovePressed"]))])))),128)),(0,n.Wm)(y,{"no-caps":"",onClick:e.addIdentifier,color:"primary"},{default:d((()=>[s])),_:1},8,["onClick"])]),(0,n.Wm)("div",u,[(0,n.Wm)(b)])])],64)}));var c=t(1959),v=t(5264),f=t(2902);t(246);const m={class:"row items-center no-wrap"},g={class:"q-gutter-md items-center no-wrap"},y={class:"q-gutter-md items-center no-wrap"};function b(e,i,t,d,r,l){const a=(0,n.up)("q-option-group"),o=(0,n.up)("q-input"),s=(0,n.up)("q-card-section"),u=(0,n.up)("q-btn"),p=(0,n.up)("q-card-actions"),c=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(c,{flat:"",bordered:"",class:"bg-formcard"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)("div",m,[(0,n.Wm)(a,{inline:"",type:"radio","model-value":e.type,options:e.typeOptions,"onUpdate:modelValue":i[1]||(i[1]=i=>e.$emit("updateType","type",i))},null,8,["model-value","options"])]),(0,n.Wm)("div",g,[(0,n.Wm)(o,{"bg-color":"white",label:"Value",outlined:"",standout:"",dense:"","model-value":e.value,"onUpdate:modelValue":i[2]||(i[2]=i=>e.$emit("updateValue","value",i)),rules:[e.validateValue]},null,8,["model-value","rules"])]),(0,n.Wm)("div",y,[(0,n.Wm)(o,{"bg-color":"white",label:"Description",outlined:"",standout:"",dense:"","model-value":e.description,"onUpdate:modelValue":i[3]||(i[3]=i=>e.$emit("updateDescription","description",i)),rules:[e.validateDescription]},null,8,["model-value","rules"])])])),_:1}),(0,n.Wm)(p,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{color:"negative",dense:"",icon:"delete",label:"Remove",onClick:i[4]||(i[4]=i=>e.$emit("removePressed"))}),(0,n.Wm)(u,{dense:"",icon:"done",label:"Done",onClick:i[5]||(i[5]=i=>e.$emit("closePressed"))})])),_:1})])),_:1})}var w=t(4334);const I=(0,n.aZ)({name:"IdentifierCardEditing",props:{index:{type:Number,required:!0},type:{type:String,default:""},value:{type:String,default:""},description:{type:String,default:""}},setup(e){const i={doi:(0,w.rk)("/definitions/identifier/anyOf/0/properties/value"),url:(0,w.rk)("/definitions/identifier/anyOf/1/properties/value"),swh:(0,w.rk)("/definitions/identifier/anyOf/2/properties/value"),other:(0,w.rk)("/definitions/identifier/anyOf/3/properties/value")};return{validateValue:t=>i[e.type](t),validateDescription:(0,w.zN)("/definitions/identifier-description"),typeOptions:[{label:"DOI",value:"doi"},{label:"URL",value:"url"},{label:"Software Heritage",value:"swh"},{label:"Other",value:"other"}]}},emits:["closePressed","removePressed","updateType","updateValue","updateDescription"]});var W=t(151),C=t(5589),k=t(7011),q=t(1206),V=t(9367),h=t(9892),Z=t(7518),D=t.n(Z);I.render=b;const O=I;D()(I,"components",{QCard:W.Z,QCardSection:C.Z,QOptionGroup:k.Z,QInput:q.Z,QCardActions:V.Z,QBtn:h.Z});var j=t(2323);const P=(0,n.HX)("data-v-1078c25e");(0,n.dD)("data-v-1078c25e");const U={style:{"flex-grow":"1.0"}};(0,n.Cn)();const S=P(((e,i,t,d,r,l)=>{const a=(0,n.up)("q-btn"),o=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(o,{bordered:"",class:"bg-formcard",flat:"",style:{display:"flex","flex-direction":"row"}},{default:P((()=>[(0,n.Wm)("div",U,[(0,n.Wm)("ul",null,[(0,n.Wm)("li",null,(0,j.zw)(e.identifier.description),1),(0,n.Wm)("li",null,(0,j.zw)(e.identifier.type)+": "+(0,j.zw)(e.identifier.value),1)])]),(0,n.Wm)("div",null,[(0,n.Wm)(a,{class:"edit-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:i[1]||(i[1]=i=>e.$emit("editPressed"))})])])),_:1})})),x=(0,n.aZ)({name:"IdentifierCardViewing",props:{index:{type:Number,required:!0},identifier:{type:Object,required:!0}},emits:["editPressed"]});x.render=S,x.__scopeId="data-v-1078c25e";const Q=x;D()(x,"components",{QCard:W.Z,QBtn:h.Z});var _=t(1364);const E=(0,n.aZ)({name:"ScreenIdentifiers",components:{Stepper:v.Z,StepperActions:f.Z,IdentifierCardEditing:O,IdentifierCardViewing:Q},setup(){const{identifiers:e,setIdentifiers:i}=(0,_.Y)(),t=(0,c.iH)(-1);return{identifiers:e,editingId:t,setIdentifierTypeField(n,d){const r=Object.assign({},e.value[t.value]);r.type=d,e.value[t.value]=r,i(e.value)},setIdentifierValueField(n,d){const r=Object.assign({},e.value[t.value]);r.value=d,e.value[t.value]=r,i(e.value)},setIdentifierDescriptionField(n,d){const r=Object.assign({},e.value[t.value]);r.description=d,e.value[t.value]=r,i(e.value)},removeIdentifier(){const n=[...e.value];n.splice(t.value,1),i(n),t.value=-1},addIdentifier(){const n={type:"doi",value:"",description:""},d=[...e.value,n];i(d),t.value=d.length-1}}}});E.render=p,E.__scopeId="data-v-f76c93b4";const F=E;D()(E,"components",{QBtn:h.Z})}}]);