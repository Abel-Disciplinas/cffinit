"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[326],{3614:(e,a,t)=>{t.r(a),t.d(a,{default:()=>H});var l=t(3673);const i=(0,l.HX)("data-v-65908dda");(0,l.dD)("data-v-65908dda");const o={id:"metroline"},n={id:"form"},d=(0,l.Wm)("div",{id:"form-title"},[(0,l.Wm)("h1",{class:"page-title"}," Authors ")],-1),r={id:"form-content"},s={class:"scroll-to-bottom-container"},u=(0,l.Wm)("span",{class:"bottom"},null,-1),m=(0,l.Uk)(" Add author "),c={id:"form-button-bar"};(0,l.Cn)();const p=i(((e,a,t,p,f,v)=>{const g=(0,l.up)("Stepper"),h=(0,l.up)("AuthorCardViewing"),b=(0,l.up)("AuthorCardEditing"),w=(0,l.up)("q-btn"),W=(0,l.up)("StepperActions");return(0,l.wg)(),(0,l.j4)(l.HY,null,[(0,l.Wm)("div",o,[(0,l.Wm)(g)]),(0,l.Wm)("div",n,[d,(0,l.Wm)("div",r,[(0,l.Wm)("div",s,[u,(0,l.Wm)("div",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.authors,((t,i)=>((0,l.wg)(),(0,l.j4)("div",{class:"q-mb-md q-mr-lg",key:i},[e.editingId!==i?((0,l.wg)(),(0,l.j4)(h,{key:0,index:i,author:t,onEditPressed:()=>e.editingId=i},null,8,["index","author","onEditPressed"])):((0,l.wg)(),(0,l.j4)(b,(0,l.dG)({key:1,index:i},t,{onUpdate:e.setAuthorField,onClosePressed:a[1]||(a[1]=()=>e.editingId=-1),onRemovePressed:e.removeAuthor}),null,16,["index","onUpdate","onRemovePressed"]))])))),128))])]),(0,l.Wm)(w,{class:"q-mt-md q-mb-md",color:"primary","no-caps":"",onClick:e.addAuthor},{default:i((()=>[m])),_:1},8,["onClick"])]),(0,l.Wm)("div",c,[(0,l.Wm)(W)])])],64)}));var f=t(1959),v=t(5264),g=t(2902);const h=(0,l.HX)("data-v-7fd6abf8");(0,l.dD)("data-v-7fd6abf8");const b={class:"row"},w={class:"row"},W={class:"row"},y={class:"row"};(0,l.Cn)();const N=h(((e,a,t,i,o,n)=>{const d=(0,l.up)("q-input"),r=(0,l.up)("q-btn"),s=(0,l.up)("q-card-actions"),u=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(u,{flat:"",bordered:"",class:"bg-formcard q-pa-md"},{default:h((()=>[(0,l.Wm)("div",b,[(0,l.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"given-names",outlined:"",standout:"",title:"The person's given names.","model-value":e.givenNames,rules:[e.validateGivenNames],"onUpdate:modelValue":a[1]||(a[1]=a=>e.$emit("update","givenNames",a))},null,8,["model-value","rules"])]),(0,l.Wm)("div",w,[(0,l.Wm)(d,{"bg-color":"white",class:"col-3",dense:"",label:"name-particle",outlined:"",standout:"",title:"The person's name particle, e.g., a nobiliary particle or a [preposition] meaning 'of' or 'from' (for example 'von' in 'Alexander von Humboldt').","model-value":e.nameParticle,rules:[e.validateNameParticle],"onUpdate:modelValue":a[2]||(a[2]=a=>e.$emit("update","nameParticle",a))},null,8,["model-value","rules"]),(0,l.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"family-names",outlined:"",standout:"",title:"The person's family names.","model-value":e.familyNames,rules:[e.validateFamilyNames],"onUpdate:modelValue":a[3]||(a[3]=a=>e.$emit("update","familyNames",a))},null,8,["model-value","rules"]),(0,l.Wm)(d,{"bg-color":"white",class:"col-3",dense:"",label:"name-suffix",outlined:"",standout:"",title:"The person's name suffix, e.g. 'Jr.' for Sammy Davis Jr. or 'III' for Frank Edwin Wright III.","model-value":e.nameSuffix,rules:[e.validateNameSuffix],"onUpdate:modelValue":a[4]||(a[4]=a=>e.$emit("update","nameSuffix",a))},null,8,["model-value","rules"])]),(0,l.Wm)("div",W,[(0,l.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"email",outlined:"",standout:"",title:"The person's email address.",type:"email","model-value":e.email,rules:[e.validateEmail],"onUpdate:modelValue":a[5]||(a[5]=a=>e.$emit("update","email",a))},null,8,["model-value","rules"])]),(0,l.Wm)("div",y,[(0,l.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"affiliation",outlined:"",standout:"",title:"The person's affiliation.","model-value":e.affiliation,rules:[e.validateAffiliation],"onUpdate:modelValue":a[6]||(a[6]=a=>e.$emit("update","affiliation",a))},null,8,["model-value","rules"]),(0,l.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"orcid",outlined:"",standout:"",title:"The person's ORCID identifier.","model-value":e.orcid,rules:[e.validateOrcid],"onUpdate:modelValue":a[7]||(a[7]=a=>e.$emit("update","orcid",a))},null,8,["model-value","rules"])]),(0,l.Wm)(s,{align:"right"},{default:h((()=>[(0,l.Wm)(r,{color:"negative",dense:"",icon:"delete",label:"Remove",onClick:a[8]||(a[8]=a=>e.$emit("removePressed"))}),(0,l.Wm)(r,{dense:"",icon:"done",label:"Done",onClick:a[9]||(a[9]=a=>e.$emit("closePressed"))})])),_:1})])),_:1})}));var A=t(4334);const C=(0,l.aZ)({name:"AuthorCardEditing",props:{index:{type:Number,required:!0},givenNames:{type:String,default:""},nameParticle:{type:String,default:""},nameSuffix:{type:String,default:""},orcid:{type:String,default:""},familyNames:{type:String,default:""},affiliation:{type:String,default:""},email:{type:String,default:""}},setup(){return{validateGivenNames:(0,A.zN)("/definitions/person/properties/given-names"),validateNameParticle:(0,A.zN)("/definitions/person/properties/name-particle"),validateNameSuffix:(0,A.zN)("/definitions/person/properties/name-suffix"),validateFamilyNames:(0,A.zN)("/definitions/person/properties/family-names"),validateAffiliation:(0,A.zN)("/definitions/person/properties/affiliation"),validateEmail:(0,A.zN)("/definitions/person/properties/email"),validateOrcid:(0,A.zN)("/definitions/person/properties/orcid")}},emits:["closePressed","removePressed","update"]});var x=t(151),S=t(1206),P=t(9367),I=t(9892),q=t(7518),k=t.n(q);C.render=N,C.__scopeId="data-v-7fd6abf8";const z=C;k()(C,"components",{QCard:x.Z,QInput:S.Z,QCardActions:P.Z,QBtn:I.Z});var Z=t(2323);const V=(0,l.HX)("data-v-0d15f872");(0,l.dD)("data-v-0d15f872");const E={style:{"flex-grow":"1.0"}};(0,l.Cn)();const U=V(((e,a,t,i,o,n)=>{const d=(0,l.up)("q-btn"),r=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(r,{bordered:"",class:"bg-formcard",flat:"",style:{display:"flex","flex-direction":"row"}},{default:V((()=>[(0,l.Wm)("div",E,[(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,(0,Z.zw)(e.author.givenNames)+" "+(0,Z.zw)(e.author.nameParticle)+" "+(0,Z.zw)(e.author.familyNames)+" "+(0,Z.zw)(e.author.nameSuffix),1),(0,l.Wm)("li",null,(0,Z.zw)(e.author.email),1),(0,l.Wm)("li",null,(0,Z.zw)(e.author.affiliation)+" "+(0,Z.zw)(e.author.orcid),1)])]),(0,l.Wm)("div",null,[(0,l.Wm)(d,{class:"edit-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:a[1]||(a[1]=a=>e.$emit("editPressed"))})])])),_:1})})),$=(0,l.aZ)({name:"AuthorCardViewing",props:{index:{type:Number,required:!0},author:{type:Object,required:!0}},emits:["editPressed"]});$.render=U,$.__scopeId="data-v-0d15f872";const _=$;k()($,"components",{QCard:x.Z,QBtn:I.Z});var j=t(1364);const T=(0,l.aZ)({name:"ScreenAuthors",components:{Stepper:v.Z,StepperActions:g.Z,AuthorCardEditing:z,AuthorCardViewing:_},setup(){const{authors:e,setAuthors:a}=(0,j.Y)(),t=(0,f.iH)(0);return{authors:e,editingId:t,setAuthorField(l,i){const o=Object.assign({},e.value[t.value]);o[l]=i,e.value[t.value]=o,a(e.value)},removeAuthor(){const l=[...e.value];l.splice(t.value,1),a(l),t.value=-1},addAuthor(){const l={},i=[...e.value,l];a(i),t.value=i.length-1,setTimeout((()=>{document.getElementsByClassName("bottom")[0].scrollIntoView({behavior:"smooth"})}),100)}}}});T.render=p,T.__scopeId="data-v-65908dda";const H=T;k()(T,"components",{QBtn:I.Z})}}]);