"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[18],{3830:(e,o,t)=>{t.r(o),t.d(o,{default:()=>T});var a=t(3673);const l=(0,a.HX)("data-v-5f73b796");(0,a.dD)("data-v-5f73b796");const n={id:"metroline"},i={id:"form"},r=(0,a.Wm)("div",{id:"form-title"},[(0,a.Wm)("h1",{class:"page-title"}," Authors ")],-1),d={id:"form-content"},s={class:"scroll-to-bottom-container"},u=(0,a.Wm)("span",{class:"bottom"},null,-1),m=(0,a.Uk)(" Add author "),c={id:"form-button-bar"};(0,a.Cn)();const v=l(((e,o,t,v,p,f)=>{const h=(0,a.up)("Stepper"),b=(0,a.up)("AuthorCardViewing"),g=(0,a.up)("AuthorCardEditing"),w=(0,a.up)("q-btn"),W=(0,a.up)("StepperActions");return(0,a.wg)(),(0,a.j4)(a.HY,null,[(0,a.Wm)("div",n,[(0,a.Wm)(h)]),(0,a.Wm)("div",i,[r,(0,a.Wm)("div",d,[(0,a.Wm)("div",s,[u,(0,a.Wm)("div",null,[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.authors,((t,l)=>((0,a.wg)(),(0,a.j4)("div",{class:"q-mb-md q-mr-lg",key:l},[e.editingId!==l?((0,a.wg)(),(0,a.j4)(b,{key:0,index:l,author:t,"num-authors":e.authors.length,onEditPressed:()=>e.editingId=l,onMoveDown:o=>e.moveAuthorDown(l),onMoveUp:o=>e.moveAuthorUp(l)},null,8,["index","author","num-authors","onEditPressed","onMoveDown","onMoveUp"])):((0,a.wg)(),(0,a.j4)(g,(0,a.dG)({key:1,index:l,"num-authors":e.authors.length},t,{onUpdate:e.setAuthorField,onClosePressed:o[1]||(o[1]=()=>e.editingId=-1),onRemovePressed:e.removeAuthor,onMoveDown:o=>e.moveAuthorDown(l),onMoveUp:o=>e.moveAuthorUp(l)}),null,16,["index","num-authors","onUpdate","onRemovePressed","onMoveDown","onMoveUp"]))])))),128))])]),(0,a.Wm)(w,{class:"q-mt-md q-mb-md",color:"primary","no-caps":"",onClick:e.addAuthor},{default:l((()=>[m])),_:1},8,["onClick"])]),(0,a.Wm)("div",c,[(0,a.Wm)(W)])])],64)}));var p=t(1959),f=t(5264),h=t(5132);const b=(0,a.HX)("data-v-5d690e5c");(0,a.dD)("data-v-5d690e5c");const g={class:"row"},w={class:"row"},W={class:"row"},y={class:"row"};(0,a.Cn)();const A=b(((e,o,t,l,n,i)=>{const r=(0,a.up)("q-input"),d=(0,a.up)("q-btn"),s=(0,a.up)("q-card-actions"),u=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(u,{flat:"",bordered:"",class:"bg-formcard q-pa-md"},{default:b((()=>[(0,a.Wm)("div",g,[(0,a.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"given-names",outlined:"",standout:"",title:"The person's given names.","model-value":e.givenNames,rules:[e.validateGivenNames],"onUpdate:modelValue":o[1]||(o[1]=o=>e.$emit("update","givenNames",o))},null,8,["model-value","rules"])]),(0,a.Wm)("div",w,[(0,a.Wm)(r,{"bg-color":"white",class:"col-3",dense:"",label:"name-particle",outlined:"",standout:"",title:"The person's name particle, e.g., a nobiliary particle or a [preposition] meaning 'of' or 'from' (for example 'von' in 'Alexander von Humboldt').","model-value":e.nameParticle,rules:[e.validateNameParticle],"onUpdate:modelValue":o[2]||(o[2]=o=>e.$emit("update","nameParticle",o))},null,8,["model-value","rules"]),(0,a.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"family-names",outlined:"",standout:"",title:"The person's family names.","model-value":e.familyNames,rules:[e.validateFamilyNames],"onUpdate:modelValue":o[3]||(o[3]=o=>e.$emit("update","familyNames",o))},null,8,["model-value","rules"]),(0,a.Wm)(r,{"bg-color":"white",class:"col-3",dense:"",label:"name-suffix",outlined:"",standout:"",title:"The person's name suffix, e.g. 'Jr.' for Sammy Davis Jr. or 'III' for Frank Edwin Wright III.","model-value":e.nameSuffix,rules:[e.validateNameSuffix],"onUpdate:modelValue":o[4]||(o[4]=o=>e.$emit("update","nameSuffix",o))},null,8,["model-value","rules"])]),(0,a.Wm)("div",W,[(0,a.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"email",outlined:"",standout:"",title:"The person's email address.",type:"email","model-value":e.email,rules:[e.validateEmail],"onUpdate:modelValue":o[5]||(o[5]=o=>e.$emit("update","email",o))},null,8,["model-value","rules"])]),(0,a.Wm)("div",y,[(0,a.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"affiliation",outlined:"",standout:"",title:"The person's affiliation.","model-value":e.affiliation,rules:[e.validateAffiliation],"onUpdate:modelValue":o[6]||(o[6]=o=>e.$emit("update","affiliation",o))},null,8,["model-value","rules"]),(0,a.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"orcid",outlined:"",standout:"",title:"The person's ORCID identifier.","model-value":e.orcid,rules:[e.validateOrcid],"onUpdate:modelValue":o[7]||(o[7]=o=>e.$emit("update","orcid",o))},null,8,["model-value","rules"])]),(0,a.Wm)(s,{align:"right"},{default:b((()=>[(0,a.Wm)(d,{color:"blue",dense:"",disable:0==e.index,icon:"ion-arrow-up",tabindex:"-1",onClick:o[8]||(o[8]=o=>e.$emit("moveUp"))},null,8,["disable"]),(0,a.Wm)(d,{color:"blue",dense:"",disable:e.index>=e.numAuthors-1,icon:"ion-arrow-down",tabindex:"-1",onClick:o[9]||(o[9]=o=>e.$emit("moveDown"))},null,8,["disable"]),(0,a.Wm)(d,{color:"negative",dense:"",icon:"delete",label:"Remove",onClick:o[10]||(o[10]=o=>e.$emit("removePressed"))}),(0,a.Wm)(d,{dense:"",icon:"done",label:"Done",onClick:o[11]||(o[11]=o=>e.$emit("closePressed"))})])),_:1})])),_:1})}));var x=t(3351);const N=(0,a.aZ)({name:"AuthorCardEditing",props:{index:{type:Number,required:!0},givenNames:{type:String,default:""},nameParticle:{type:String,default:""},nameSuffix:{type:String,default:""},orcid:{type:String,default:""},familyNames:{type:String,default:""},affiliation:{type:String,default:""},email:{type:String,default:""},numAuthors:{type:Number,default:0}},setup(){return{validateGivenNames:(0,x.zN)("/definitions/person/properties/given-names"),validateNameParticle:(0,x.zN)("/definitions/person/properties/name-particle"),validateNameSuffix:(0,x.zN)("/definitions/person/properties/name-suffix"),validateFamilyNames:(0,x.zN)("/definitions/person/properties/family-names"),validateAffiliation:(0,x.zN)("/definitions/person/properties/affiliation"),validateEmail:(0,x.zN)("/definitions/person/properties/email"),validateOrcid:(0,x.zN)("/definitions/person/properties/orcid")}},emits:["closePressed","removePressed","update","moveUp","moveDown"]});var C=t(151),U=t(4842),S=t(9367),k=t(2165),P=t(7518),D=t.n(P);N.render=A,N.__scopeId="data-v-5d690e5c";const q=N;D()(N,"components",{QCard:C.Z,QInput:U.Z,QCardActions:S.Z,QBtn:k.Z});var I=t(2323);const z=(0,a.HX)("data-v-4d86cebb");(0,a.dD)("data-v-4d86cebb");const $={style:{"flex-grow":"1.0"}};(0,a.Cn)();const Z=z(((e,o,t,l,n,i)=>{const r=(0,a.up)("q-btn"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{bordered:"",class:"bg-formcard",flat:"",style:{display:"flex","flex-direction":"row"}},{default:z((()=>[(0,a.Wm)("div",$,[(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,(0,I.zw)(e.author.givenNames)+" "+(0,I.zw)(e.author.nameParticle)+" "+(0,I.zw)(e.author.familyNames)+" "+(0,I.zw)(e.author.nameSuffix),1),(0,a.Wm)("li",null,(0,I.zw)(e.author.email),1),(0,a.Wm)("li",null,(0,I.zw)(e.author.affiliation)+" "+(0,I.zw)(e.author.orcid),1)])]),(0,a.Wm)("div",null,[(0,a.Wm)(r,{class:"author-button",color:"blue",disable:0==e.index,icon:"ion-arrow-up",tabindex:"-1",onClick:o[1]||(o[1]=o=>e.$emit("moveUp"))},null,8,["disable"]),(0,a.Wm)(r,{class:"author-button",color:"blue",disable:e.index>=e.numAuthors-1,icon:"ion-arrow-down",tabindex:"-1",onClick:o[2]||(o[2]=o=>e.$emit("moveDown"))},null,8,["disable"]),(0,a.Wm)(r,{class:"author-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:o[3]||(o[3]=o=>e.$emit("editPressed"))})])])),_:1})})),V=(0,a.aZ)({name:"AuthorCardViewing",props:{index:{type:Number,required:!0},author:{type:Object,required:!0},numAuthors:{type:Number,default:0}},emits:["editPressed","moveDown","moveUp"]});V.render=Z,V.__scopeId="data-v-4d86cebb";const _=V;D()(V,"components",{QCard:C.Z,QBtn:k.Z});var j=t(2064),E=t(1364),M=t(4009),H=function(e,o,t,a){function l(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,n){function i(e){try{d(a.next(e))}catch(o){n(o)}}function r(e){try{d(a["throw"](e))}catch(o){n(o)}}function d(e){e.done?t(e.value):l(e.value).then(i,r)}d((a=a.apply(e,o||[])).next())}))};const Q=(0,a.aZ)({name:"ScreenAuthors",components:{Stepper:f.Z,StepperActions:h.Z,AuthorCardEditing:q,AuthorCardViewing:_},setup(){const{authors:e,setAuthors:o}=(0,E.Y)(),t=(0,p.iH)(0),l=()=>H(this,void 0,void 0,(function*(){const l={},n=[...e.value,l];o(n),t.value=n.length-1,yield(0,a.Y3)(),(0,M.O)()})),n=()=>{const a=[...e.value];a.splice(t.value,1),o(a),t.value=-1},i=(a,l)=>{const n=Object.assign({},e.value[t.value]);n[a]=l,e.value[t.value]=n,o(e.value)},r=a=>{(0,j.A)(a,e.value,o),t.value===a&&a>0?t.value=t.value-1:t.value===a-1&&(t.value=t.value+1)},d=a=>{(0,j.v)(a,e.value,o),t.value===a&&a<e.value.length-1?t.value=t.value+1:t.value===a+1&&(t.value=t.value-1)};return{addAuthor:l,authors:e,editingId:t,moveAuthorDown:d,moveAuthorUp:r,removeAuthor:n,setAuthorField:i}}});Q.render=v,Q.__scopeId="data-v-5f73b796";const T=Q;D()(Q,"components",{QBtn:k.Z})}}]);