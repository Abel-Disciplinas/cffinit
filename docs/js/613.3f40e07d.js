"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[613],{1432:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var l=a(3673);const o=(0,l.HX)("data-v-5108dbf7");(0,l.dD)("data-v-5108dbf7");const n={class:"q-pa-md col-flex"},r=(0,l.Wm)("div",{class:"q-gutter-md title-field text-dark"},[(0,l.Wm)("p",{class:"q-mt-xl page-title"}," Authors ")],-1),i=(0,l.Uk)(" Add author ");(0,l.Cn)();const d=o(((e,t,a,d,s,u)=>{const m=(0,l.up)("AuthorViewCard"),c=(0,l.up)("AuthorEditCard"),p=(0,l.up)("q-btn"),v=(0,l.up)("StepperActions");return(0,l.wg)(),(0,l.j4)(l.HY,null,[(0,l.Wm)("div",n,[r,((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.authors,((a,o)=>((0,l.wg)(),(0,l.j4)("div",{key:o,class:"q-mb-md"},[e.editingId!==o?((0,l.wg)(),(0,l.j4)(m,{key:0,index:o,author:a,onEditPressed:()=>e.editingId=o},null,8,["index","author","onEditPressed"])):((0,l.wg)(),(0,l.j4)(c,(0,l.dG)({key:1,index:o},a,{onUpdate:e.setAuthorField,onClosePressed:t[1]||(t[1]=()=>e.editingId=-1),onRemovePressed:e.removeAuthor}),null,16,["index","onUpdate","onRemovePressed"]))])))),128)),(0,l.Wm)(p,{"no-caps":"",onClick:e.addAuthor,color:"primary"},{default:o((()=>[i])),_:1},8,["onClick"])]),(0,l.Wm)(v)],64)}));var s=a(1959),u=a(415);const m={class:"q-gutter-md row items-center no-wrap"},c={class:"q-gutter-md items-center no-wrap"},p={class:"q-gutter-md row items-center no-wrap"},v={class:"col"},f={class:"col"};function h(e,t,a,o,n,r){const i=(0,l.up)("q-input"),d=(0,l.up)("q-card-section"),s=(0,l.up)("q-btn"),u=(0,l.up)("q-card-actions"),h=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(h,{flat:"",bordered:"",class:"bg-formcard"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)("div",m,[(0,l.Wm)(i,{"bg-color":"white",label:"Given name(s)",outlined:"",standout:"",dense:"","model-value":e.givenNames,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update","givenNames",t)),rules:[e=>e&&e.length>3||"Please use minimum 3 characters"]},null,8,["model-value","rules"]),(0,l.Wm)(i,{"bg-color":"white",label:"Name particle",title:"The person's name particle, e.g., a nobiliary particle or a [preposition] meaning 'of' or 'from' (for example 'von' in 'Alexander von Humboldt').",outlined:"",standout:"",dense:"","model-value":e.nameParticle,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update","nameParticle",t)),rules:[e=>e&&e.length>3||"Please use minimum 3 characters"]},null,8,["model-value","rules"]),(0,l.Wm)(i,{"bg-color":"white",label:"Family name(s)",outlined:"",standout:"",dense:"","model-value":e.familyNames,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update","familyNames",t)),rules:[e=>e&&e.length>3||"Please use minimum 3 characters"]},null,8,["model-value","rules"]),(0,l.Wm)(i,{"bg-color":"white",label:"Suffix",outlined:"",standout:"",dense:"",title:"The person's name suffix, e.g. 'Jr.' for Sammy Davis Jr. or 'III' for Frank Edwin Wright III.","model-value":e.nameSuffix,"onUpdate:modelValue":t[4]||(t[4]=t=>e.$emit("update","nameSuffix",t)),rules:[e=>e&&e.length>3||"Please use minimum 3 characters"]},null,8,["model-value","rules"])]),(0,l.Wm)("div",c,[(0,l.Wm)(i,{"bg-color":"white",label:"Email",outlined:"",standout:"",dense:"","model-value":e.email,"onUpdate:modelValue":t[5]||(t[5]=t=>e.$emit("update","email",t)),rules:[e=>e&&e.length>3||"Please use minimum 3 characters"]},null,8,["model-value","rules"])]),(0,l.Wm)("div",p,[(0,l.Wm)("div",v,[(0,l.Wm)(i,{"bg-color":"white",label:"Affiliation",outlined:"",standout:"",dense:"","model-value":e.affiliation,"onUpdate:modelValue":t[6]||(t[6]=t=>e.$emit("update","affiliation",t)),rules:[e=>e&&e.length>3||"Please use minimum 3 characters"]},null,8,["model-value","rules"])]),(0,l.Wm)("div",f,[(0,l.Wm)(i,{"bg-color":"white",label:"Orcid",outlined:"",standout:"",dense:"","model-value":e.orcid,"onUpdate:modelValue":t[7]||(t[7]=t=>e.$emit("update","orcid",t)),rules:[e.validateOrcid]},null,8,["model-value","rules"])])])])),_:1}),(0,l.Wm)(u,{align:"between"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{icon:"delete",color:"negative",label:"Remove",dense:"",onClick:t[8]||(t[8]=t=>e.$emit("removePressed"))}),(0,l.Wm)(s,{icon:"close",label:"Close",dense:"",onClick:t[9]||(t[9]=t=>e.$emit("closePressed"))})])),_:1})])),_:1})}var g=a(4334);const w=(0,l.aZ)({name:"AuthorEditCard",props:{index:{type:Number,required:!0},givenNames:{type:String,default:""},nameParticle:{type:String,default:""},nameSuffix:{type:String,default:""},orcid:{type:String,default:""},familyNames:{type:String,default:""},affiliation:{type:String,default:""},email:{type:String,default:""}},setup(){return{validateOrcid:(0,g.r)("/definitions/person/properties/orcid")}},emits:["closePressed","removePressed","update"]});var b=a(151),W=a(5589),y=a(1206),A=a(9367),C=a(8240),P=a(7518),q=a.n(P);w.render=h;const x=w;q()(w,"components",{QCard:b.Z,QCardSection:W.Z,QInput:y.Z,QCardActions:A.Z,QBtn:C.Z});var k=a(2323);const S={class:"row items-center no-wrap"},Z={class:"col-11"},E={class:"text-subtitle1"},I={class:"text-subtitle1"},N={class:"col-1"};function U(e,t,a,o,n,r){const i=(0,l.up)("q-btn"),d=(0,l.up)("q-card-section"),s=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(s,{flat:"",bordered:"",class:"bg-formcard",onMouseover:t[2]||(t[2]=t=>e.showEdit=!0),onMouseleave:t[3]||(t[3]=t=>e.showEdit=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)("div",S,[(0,l.Wm)("div",Z,[(0,l.Wm)("div",E,(0,k.zw)(e.author.givenNames)+" "+(0,k.zw)(e.author.nameParticle)+" "+(0,k.zw)(e.author.familyNames)+" "+(0,k.zw)(e.author.nameSuffix),1),(0,l.Wm)("div",I,(0,k.zw)(e.author.email),1)]),(0,l.Wm)("div",N,[e.showEdit?((0,l.wg)(),(0,l.j4)(i,{key:0,color:"primary",round:"",flat:"",icon:"edit",title:"Edit",onClick:t[1]||(t[1]=t=>e.$emit("editPressed"))})):(0,l.kq)("",!0)])])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,k.zw)(e.author.affiliation)+" "+(0,k.zw)(e.author.orcid),1)])),_:1})])),_:1})}const j=(0,l.aZ)({name:"AuthorViewCard",props:{index:{type:Number,required:!0},author:{type:Object,required:!0}},setup(){const e=(0,s.iH)(!1);return{showEdit:e}},emits:["editPressed"]});j.render=U;const V=j;q()(j,"components",{QCard:b.Z,QCardSection:W.Z,QBtn:C.Z});var $=a(1364);const Q=(0,l.aZ)({name:"Authors",components:{StepperActions:u.Z,AuthorEditCard:x,AuthorViewCard:V},setup(){const{authors:e,setAuthors:t}=(0,$.Y)(),a=(0,s.iH)(-1);return{authors:e,editingId:a,setAuthorField(l,o){const n=Object.assign({},e.value[a.value]);n[l]=o,e.value[a.value]=n,t(e.value)},removeAuthor(){const l=[...e.value];l.splice(a.value,1),t(l),a.value=-1},addAuthor(){const l={},o=[...e.value,l];t(o),a.value=o.length-1}}}});Q.render=d,Q.__scopeId="data-v-5108dbf7";const _=Q;q()(Q,"components",{QBtn:C.Z})}}]);