"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[365],{7924:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var o=a(3673);const l=(0,o.HX)("data-v-3526185c");(0,o.dD)("data-v-3526185c");const i={id:"metroline"},n={id:"form"},r=(0,o.Wm)("div",{id:"form-title"},[(0,o.Wm)("h1",{class:"page-title"}," Authors ")],-1),d={id:"form-content"},s={class:"scroll-to-bottom-container"},u=(0,o.Wm)("span",{class:"bottom"},null,-1),m=(0,o.Uk)(" Add author "),c={id:"form-button-bar"};(0,o.Cn)();const p=l(((e,t,a,p,v,f)=>{const h=(0,o.up)("Stepper"),g=(0,o.up)("AuthorCardViewing"),b=(0,o.up)("AuthorCardEditing"),w=(0,o.up)("q-btn"),W=(0,o.up)("StepperActions");return(0,o.wg)(),(0,o.j4)(o.HY,null,[(0,o.Wm)("div",i,[(0,o.Wm)(h)]),(0,o.Wm)("div",n,[r,(0,o.Wm)("div",d,[(0,o.Wm)("div",s,[u,(0,o.Wm)("div",null,[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(e.authors,((a,l)=>((0,o.wg)(),(0,o.j4)("div",{class:"q-mb-md q-mr-lg",key:l},[e.editingId!==l?((0,o.wg)(),(0,o.j4)(g,{key:0,index:l,author:a,onEditPressed:()=>e.editingId=l,onMoveDown:t=>e.moveAuthorDown(l),onMoveUp:t=>e.moveAuthorUp(l)},null,8,["index","author","onEditPressed","onMoveDown","onMoveUp"])):((0,o.wg)(),(0,o.j4)(b,(0,o.dG)({key:1,index:l},a,{onUpdate:e.setAuthorField,onClosePressed:t[1]||(t[1]=()=>e.editingId=-1),onRemovePressed:e.removeAuthor}),null,16,["index","onUpdate","onRemovePressed"]))])))),128))])]),(0,o.Wm)(w,{class:"q-mt-md q-mb-md",color:"primary","no-caps":"",onClick:e.addAuthor},{default:l((()=>[m])),_:1},8,["onClick"])]),(0,o.Wm)("div",c,[(0,o.Wm)(W)])])],64)}));var v=a(1959),f=a(5264),h=a(5132);const g=(0,o.HX)("data-v-7fd6abf8");(0,o.dD)("data-v-7fd6abf8");const b={class:"row"},w={class:"row"},W={class:"row"},y={class:"row"};(0,o.Cn)();const A=g(((e,t,a,l,i,n)=>{const r=(0,o.up)("q-input"),d=(0,o.up)("q-btn"),s=(0,o.up)("q-card-actions"),u=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(u,{flat:"",bordered:"",class:"bg-formcard q-pa-md"},{default:g((()=>[(0,o.Wm)("div",b,[(0,o.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"given-names",outlined:"",standout:"",title:"The person's given names.","model-value":e.givenNames,rules:[e.validateGivenNames],"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update","givenNames",t))},null,8,["model-value","rules"])]),(0,o.Wm)("div",w,[(0,o.Wm)(r,{"bg-color":"white",class:"col-3",dense:"",label:"name-particle",outlined:"",standout:"",title:"The person's name particle, e.g., a nobiliary particle or a [preposition] meaning 'of' or 'from' (for example 'von' in 'Alexander von Humboldt').","model-value":e.nameParticle,rules:[e.validateNameParticle],"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update","nameParticle",t))},null,8,["model-value","rules"]),(0,o.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"family-names",outlined:"",standout:"",title:"The person's family names.","model-value":e.familyNames,rules:[e.validateFamilyNames],"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update","familyNames",t))},null,8,["model-value","rules"]),(0,o.Wm)(r,{"bg-color":"white",class:"col-3",dense:"",label:"name-suffix",outlined:"",standout:"",title:"The person's name suffix, e.g. 'Jr.' for Sammy Davis Jr. or 'III' for Frank Edwin Wright III.","model-value":e.nameSuffix,rules:[e.validateNameSuffix],"onUpdate:modelValue":t[4]||(t[4]=t=>e.$emit("update","nameSuffix",t))},null,8,["model-value","rules"])]),(0,o.Wm)("div",W,[(0,o.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"email",outlined:"",standout:"",title:"The person's email address.",type:"email","model-value":e.email,rules:[e.validateEmail],"onUpdate:modelValue":t[5]||(t[5]=t=>e.$emit("update","email",t))},null,8,["model-value","rules"])]),(0,o.Wm)("div",y,[(0,o.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"affiliation",outlined:"",standout:"",title:"The person's affiliation.","model-value":e.affiliation,rules:[e.validateAffiliation],"onUpdate:modelValue":t[6]||(t[6]=t=>e.$emit("update","affiliation",t))},null,8,["model-value","rules"]),(0,o.Wm)(r,{"bg-color":"white",class:"col",dense:"",label:"orcid",outlined:"",standout:"",title:"The person's ORCID identifier.","model-value":e.orcid,rules:[e.validateOrcid],"onUpdate:modelValue":t[7]||(t[7]=t=>e.$emit("update","orcid",t))},null,8,["model-value","rules"])]),(0,o.Wm)(s,{align:"right"},{default:g((()=>[(0,o.Wm)(d,{color:"negative",dense:"",icon:"delete",label:"Remove",onClick:t[8]||(t[8]=t=>e.$emit("removePressed"))}),(0,o.Wm)(d,{dense:"",icon:"done",label:"Done",onClick:t[9]||(t[9]=t=>e.$emit("closePressed"))})])),_:1})])),_:1})}));var N=a(3351);const x=(0,o.aZ)({name:"AuthorCardEditing",props:{index:{type:Number,required:!0},givenNames:{type:String,default:""},nameParticle:{type:String,default:""},nameSuffix:{type:String,default:""},orcid:{type:String,default:""},familyNames:{type:String,default:""},affiliation:{type:String,default:""},email:{type:String,default:""}},setup(){return{validateGivenNames:(0,N.zN)("/definitions/person/properties/given-names"),validateNameParticle:(0,N.zN)("/definitions/person/properties/name-particle"),validateNameSuffix:(0,N.zN)("/definitions/person/properties/name-suffix"),validateFamilyNames:(0,N.zN)("/definitions/person/properties/family-names"),validateAffiliation:(0,N.zN)("/definitions/person/properties/affiliation"),validateEmail:(0,N.zN)("/definitions/person/properties/email"),validateOrcid:(0,N.zN)("/definitions/person/properties/orcid")}},emits:["closePressed","removePressed","update"]});var C=a(151),S=a(4842),P=a(9367),k=a(2165),U=a(7518),q=a.n(U);x.render=A,x.__scopeId="data-v-7fd6abf8";const I=x;q()(x,"components",{QCard:C.Z,QInput:S.Z,QCardActions:P.Z,QBtn:k.Z});var z=a(2323);const D=(0,o.HX)("data-v-65c955e8");(0,o.dD)("data-v-65c955e8");const Z={style:{"flex-grow":"1.0"}};(0,o.Cn)();const $=D(((e,t,a,l,i,n)=>{const r=(0,o.up)("q-btn"),d=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(d,{bordered:"",class:"bg-formcard",flat:"",style:{display:"flex","flex-direction":"row"}},{default:D((()=>[(0,o.Wm)("div",Z,[(0,o.Wm)("ul",null,[(0,o.Wm)("li",null,(0,z.zw)(e.author.givenNames)+" "+(0,z.zw)(e.author.nameParticle)+" "+(0,z.zw)(e.author.familyNames)+" "+(0,z.zw)(e.author.nameSuffix),1),(0,o.Wm)("li",null,(0,z.zw)(e.author.email),1),(0,o.Wm)("li",null,(0,z.zw)(e.author.affiliation)+" "+(0,z.zw)(e.author.orcid),1)])]),(0,o.Wm)("div",null,[(0,o.Wm)(r,{class:"author-button",color:"blue",icon:"ion-arrow-up",tabindex:"-1",onClick:t[1]||(t[1]=t=>e.$emit("moveUp"))}),(0,o.Wm)(r,{class:"author-button",color:"blue",icon:"ion-arrow-down",tabindex:"-1",onClick:t[2]||(t[2]=t=>e.$emit("moveDown"))}),(0,o.Wm)(r,{class:"author-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:t[3]||(t[3]=t=>e.$emit("editPressed"))})])])),_:1})})),V=(0,o.aZ)({name:"AuthorCardViewing",props:{index:{type:Number,required:!0},author:{type:Object,required:!0}},emits:["editPressed","moveDown","moveUp"]});V.render=$,V.__scopeId="data-v-65c955e8";const _=V;q()(V,"components",{QCard:C.Z,QBtn:k.Z});var j=a(2064),E=a(1364),H=a(4009),Q=function(e,t,a,o){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function n(e){try{d(o.next(e))}catch(t){i(t)}}function r(e){try{d(o["throw"](e))}catch(t){i(t)}}function d(e){e.done?a(e.value):l(e.value).then(n,r)}d((o=o.apply(e,t||[])).next())}))};const T=(0,o.aZ)({name:"ScreenAuthors",components:{Stepper:f.Z,StepperActions:h.Z,AuthorCardEditing:I,AuthorCardViewing:_},setup(){const{authors:e,setAuthors:t}=(0,E.Y)(),a=(0,v.iH)(0),l=()=>Q(this,void 0,void 0,(function*(){const l={},i=[...e.value,l];t(i),a.value=i.length-1,yield(0,o.Y3)(),(0,H.O)()})),i=()=>{const o=[...e.value];o.splice(a.value,1),t(o),a.value=-1},n=(o,l)=>{const i=Object.assign({},e.value[a.value]);i[o]=l,e.value[a.value]=i,t(e.value)},r=o=>{(0,j.A)(o,e.value,t),a.value===o-1&&(a.value=a.value+1)},d=o=>{(0,j.v)(o,e.value,t),a.value===o+1&&(a.value=a.value-1)};return{addAuthor:l,authors:e,editingId:a,moveAuthorDown:d,moveAuthorUp:r,removeAuthor:i,setAuthorField:n}}});T.render=p,T.__scopeId="data-v-3526185c";const O=T;q()(T,"components",{QBtn:k.Z})}}]);