"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[738],{4870:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var i=t(3673);const l=(0,i.HX)("data-v-03cd974a");(0,i.dD)("data-v-03cd974a");const o={id:"metroline"},n={id:"form"},d=(0,i.Wm)("div",{id:"form-title"},[(0,i.Wm)("h1",{class:"page-title"}," Authors ")],-1),r={id:"form-content"},s=(0,i.Uk)(" Add author "),u={id:"form-button-bar"};(0,i.Cn)();const m=l(((e,a,t,m,c,p)=>{const f=(0,i.up)("Stepper"),v=(0,i.up)("AuthorCardViewing"),g=(0,i.up)("AuthorCardEditing"),h=(0,i.up)("q-btn"),b=(0,i.up)("StepperActions");return(0,i.wg)(),(0,i.j4)(i.HY,null,[(0,i.Wm)("div",o,[(0,i.Wm)(f)]),(0,i.Wm)("div",n,[d,(0,i.Wm)("div",r,[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(e.authors,((t,l)=>((0,i.wg)(),(0,i.j4)("div",{key:l,class:"q-mb-md"},[e.editingId!==l?((0,i.wg)(),(0,i.j4)(v,{key:0,index:l,author:t,onEditPressed:()=>e.editingId=l},null,8,["index","author","onEditPressed"])):((0,i.wg)(),(0,i.j4)(g,(0,i.dG)({key:1,index:l},t,{onUpdate:e.setAuthorField,onClosePressed:a[1]||(a[1]=()=>e.editingId=-1),onRemovePressed:e.removeAuthor}),null,16,["index","onUpdate","onRemovePressed"]))])))),128)),(0,i.Wm)(h,{"no-caps":"",onClick:e.addAuthor,color:"primary"},{default:l((()=>[s])),_:1},8,["onClick"])]),(0,i.Wm)("div",u,[(0,i.Wm)(b)])])],64)}));var c=t(1959),p=t(5264),f=t(2902);const v=(0,i.HX)("data-v-7fd6abf8");(0,i.dD)("data-v-7fd6abf8");const g={class:"row"},h={class:"row"},b={class:"row"},w={class:"row"};(0,i.Cn)();const W=v(((e,a,t,l,o,n)=>{const d=(0,i.up)("q-input"),r=(0,i.up)("q-btn"),s=(0,i.up)("q-card-actions"),u=(0,i.up)("q-card");return(0,i.wg)(),(0,i.j4)(u,{flat:"",bordered:"",class:"bg-formcard q-pa-md"},{default:v((()=>[(0,i.Wm)("div",g,[(0,i.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"given-names",outlined:"",standout:"",title:"The person's given names.","model-value":e.givenNames,rules:[e.validateGivenNames],"onUpdate:modelValue":a[1]||(a[1]=a=>e.$emit("update","givenNames",a))},null,8,["model-value","rules"])]),(0,i.Wm)("div",h,[(0,i.Wm)(d,{"bg-color":"white",class:"col-3",dense:"",label:"name-particle",outlined:"",standout:"",title:"The person's name particle, e.g., a nobiliary particle or a [preposition] meaning 'of' or 'from' (for example 'von' in 'Alexander von Humboldt').","model-value":e.nameParticle,rules:[e.validateNameParticle],"onUpdate:modelValue":a[2]||(a[2]=a=>e.$emit("update","nameParticle",a))},null,8,["model-value","rules"]),(0,i.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"family-names",outlined:"",standout:"",title:"The person's family names.","model-value":e.familyNames,rules:[e.validateFamilyNames],"onUpdate:modelValue":a[3]||(a[3]=a=>e.$emit("update","familyNames",a))},null,8,["model-value","rules"]),(0,i.Wm)(d,{"bg-color":"white",class:"col-3",dense:"",label:"name-suffix",outlined:"",standout:"",title:"The person's name suffix, e.g. 'Jr.' for Sammy Davis Jr. or 'III' for Frank Edwin Wright III.","model-value":e.nameSuffix,rules:[e.validateNameSuffix],"onUpdate:modelValue":a[4]||(a[4]=a=>e.$emit("update","nameSuffix",a))},null,8,["model-value","rules"])]),(0,i.Wm)("div",b,[(0,i.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"email",outlined:"",standout:"",title:"The person's email address.",type:"email","model-value":e.email,rules:[e.validateEmail],"onUpdate:modelValue":a[5]||(a[5]=a=>e.$emit("update","email",a))},null,8,["model-value","rules"])]),(0,i.Wm)("div",w,[(0,i.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"affiliation",outlined:"",standout:"",title:"The person's affiliation.","model-value":e.affiliation,rules:[e.validateAffiliation],"onUpdate:modelValue":a[6]||(a[6]=a=>e.$emit("update","affiliation",a))},null,8,["model-value","rules"]),(0,i.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"orcid",outlined:"",standout:"",title:"The person's ORCID identifier.","model-value":e.orcid,rules:[e.validateOrcid],"onUpdate:modelValue":a[7]||(a[7]=a=>e.$emit("update","orcid",a))},null,8,["model-value","rules"])]),(0,i.Wm)(s,{align:"right"},{default:v((()=>[(0,i.Wm)(r,{color:"negative",dense:"",icon:"delete",label:"Remove",onClick:a[8]||(a[8]=a=>e.$emit("removePressed"))}),(0,i.Wm)(r,{dense:"",icon:"done",label:"Done",onClick:a[9]||(a[9]=a=>e.$emit("closePressed"))})])),_:1})])),_:1})}));var y=t(4334);const N=(0,i.aZ)({name:"AuthorCardEditing",props:{index:{type:Number,required:!0},givenNames:{type:String,default:""},nameParticle:{type:String,default:""},nameSuffix:{type:String,default:""},orcid:{type:String,default:""},familyNames:{type:String,default:""},affiliation:{type:String,default:""},email:{type:String,default:""}},setup(){return{validateGivenNames:(0,y.zN)("/definitions/person/properties/given-names"),validateNameParticle:(0,y.zN)("/definitions/person/properties/name-particle"),validateNameSuffix:(0,y.zN)("/definitions/person/properties/name-suffix"),validateFamilyNames:(0,y.zN)("/definitions/person/properties/family-names"),validateAffiliation:(0,y.zN)("/definitions/person/properties/affiliation"),validateEmail:(0,y.zN)("/definitions/person/properties/email"),validateOrcid:(0,y.zN)("/definitions/person/properties/orcid")}},emits:["closePressed","removePressed","update"]});var A=t(151),C=t(1206),x=t(9367),S=t(9892),P=t(7518),I=t.n(P);N.render=W,N.__scopeId="data-v-7fd6abf8";const k=N;I()(N,"components",{QCard:A.Z,QInput:C.Z,QCardActions:x.Z,QBtn:S.Z});var z=t(2323);const q=(0,i.HX)("data-v-0d15f872");(0,i.dD)("data-v-0d15f872");const Z={style:{"flex-grow":"1.0"}};(0,i.Cn)();const U=q(((e,a,t,l,o,n)=>{const d=(0,i.up)("q-btn"),r=(0,i.up)("q-card");return(0,i.wg)(),(0,i.j4)(r,{bordered:"",class:"bg-formcard",flat:"",style:{display:"flex","flex-direction":"row"}},{default:q((()=>[(0,i.Wm)("div",Z,[(0,i.Wm)("ul",null,[(0,i.Wm)("li",null,(0,z.zw)(e.author.givenNames)+" "+(0,z.zw)(e.author.nameParticle)+" "+(0,z.zw)(e.author.familyNames)+" "+(0,z.zw)(e.author.nameSuffix),1),(0,i.Wm)("li",null,(0,z.zw)(e.author.email),1),(0,i.Wm)("li",null,(0,z.zw)(e.author.affiliation)+" "+(0,z.zw)(e.author.orcid),1)])]),(0,i.Wm)("div",null,[(0,i.Wm)(d,{class:"edit-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:a[1]||(a[1]=a=>e.$emit("editPressed"))})])])),_:1})})),V=(0,i.aZ)({name:"AuthorCardViewing",props:{index:{type:Number,required:!0},author:{type:Object,required:!0}},emits:["editPressed"]});V.render=U,V.__scopeId="data-v-0d15f872";const $=V;I()(V,"components",{QCard:A.Z,QBtn:S.Z});var _=t(1364);const j=(0,i.aZ)({name:"ScreenAuthors",components:{Stepper:p.Z,StepperActions:f.Z,AuthorCardEditing:k,AuthorCardViewing:$},setup(){const{authors:e,setAuthors:a}=(0,_.Y)(),t=(0,c.iH)(0);return{authors:e,editingId:t,setAuthorField(i,l){const o=Object.assign({},e.value[t.value]);o[i]=l,e.value[t.value]=o,a(e.value)},removeAuthor(){const i=[...e.value];i.splice(t.value,1),a(i),t.value=-1},addAuthor(){const i={},l=[...e.value,i];a(l),t.value=l.length-1}}}});j.render=m,j.__scopeId="data-v-03cd974a";const E=j;I()(j,"components",{QBtn:S.Z})}}]);